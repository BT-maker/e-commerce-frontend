<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Soru ve Taleplerim - Shopping</title>
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Custom Global CSS -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- Page Specific CSS -->
    <link rel="stylesheet" href="/css/user/support.css">
  </head>
  <body>
    <%- include("../partials/header") %>

    <div class="user-page-container support-container">
      <h2 class="user-page-title">Soru ve Taleplerim</h2>

      <div class="card user-card mb-4">
        <div class="card-body">
          <h3 class="card-title user-card-title">Yeni Talep Oluştur</h3>
          <button
            class="btn btn-primary user-btn create-ticket-btn"
            data-bs-toggle="modal"
            data-bs-target="#newTicketModal"
          >
            <i class="fas fa-plus"></i> Yeni Talep Oluştur
          </button>
          <!-- Yeni Talep Oluşturma Modal -->
          <div
            class="modal fade"
            id="newTicketModal"
            tabindex="-1"
            aria-labelledby="newTicketModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="newTicketModalLabel">
                    Yeni Talep Oluştur
                  </h5>
                  <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"
                  ></button>
                </div>
                <div class="modal-body">
                  <form action="/user/support/create" method="POST">
                    <div class="form-group">
                      <label for="subject" class="form-label">Konu</label>
                      <input
                        type="text"
                        class="form-control"
                        id="subject"
                        name="subject"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label for="category" class="form-label">Kategori</label>
                      <select
                        class="form-select"
                        id="category"
                        name="category"
                        required
                      >
                        <option value="">Seçiniz</option>
                        <option value="order">Sipariş</option>
                        <option value="product">Ürün</option>
                        <option value="shipping">Kargo</option>
                        <option value="payment">Ödeme</option>
                        <option value="other">Diğer</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label for="message" class="form-label">Mesajınız</label>
                      <textarea
                        class="form-control"
                        id="message"
                        name="message"
                        rows="5"
                        required
                      ></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary user-btn">
                      Talep Oluştur
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card user-card">
        <div class="card-body">
          <h3 class="card-title user-card-title">Mevcut Taleplerim</h3>
          <div class="tickets-grid">
            <!-- Örnek Talep Kartı -->
            <div class="ticket-card">
              <div class="ticket-header">
                <div class="ticket-number">#SPRT001</div>
                <div class="ticket-date">2024-01-20</div>
              </div>
              <div class="ticket-body">
                <div class="ticket-subject">Sipariş İptali</div>
                <div class="ticket-status status-resolved">Çözüldü</div>
              </div>
              <div class="ticket-footer">
                <button class="btn btn-info view-ticket">Detay</button>
              </div>
            </div>

            <div class="ticket-card">
              <div class="ticket-header">
                <div class="ticket-number">#SPRT002</div>
                <div class="ticket-date">2024-01-25</div>
              </div>
              <div class="ticket-body">
                <div class="ticket-subject">Ürün Bilgisi Talebi</div>
                <div class="ticket-status status-open">Açık</div>
              </div>
              <div class="ticket-footer">
                <button class="btn btn-info view-ticket">Detay</button>
              </div>
            </div>

            <!-- Talep yoksa gösterilecek mesaj -->
            <!--
            <div class="no-tickets">
              <p>Henüz talep oluşturmadınız.</p>
            </div>
            -->
          </div>
        </div>
      </div>
    </div>

    <%- include("../partials/footer") %>
    <script src="/js/script.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
